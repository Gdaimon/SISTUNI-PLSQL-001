
CREATE OR REPLACE PROCEDURE UPDATESALEMP2
(CODIGO EMP.EMPNO%TYPE, SALARIO EMP.SAL%TYPE)
IS
    CONT NUMBER;
	ExcPer Exception;
BEGIN
    SELECT COUNT(*) INTO CONT
        FROM EMP WHERE EMPNO = CODIGO;
    IF (CONT = 0) THEN 
        RAISE ExcPer;
    END IF;
    UPDATE EMP
        SET SAL = SALARIO
        WHERE EMPNO = CODIGO;
    COMMIT;
    DBMS_OUTPUT.PUT_LINE(' PROCESO OK ');
EXCEPTION
	WHEN ExcPer THEN
		DBMS_OUTPUT.PUT_LINE('ERROR, NO EXISTE EL CODIGO.');
END;


EXEC UPDATESALEMP2 (9999,5000);
